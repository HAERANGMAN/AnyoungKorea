// =================== 1. ì„¤ì • (ì‚¬ìš©ì ì •ë³´ ì…ë ¥) ===================
const githubId = "HAERANGMAN";      // ğŸ‘ˆ ë³¸ì¸ ê¹ƒí—ˆë¸Œ ì•„ì´ë””
const repoName = "AnyoungKorea"; // ğŸ‘ˆ ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œ ì´ë¦„
const folderPath = "mp3_1A_speaking"; // ğŸ‘ˆ ìƒˆë¡œ ì¶”ê°€ëœ ì˜¤ë””ì˜¤ í´ë” ì´ë¦„!

// =================== 2. ì˜¤ë””ì˜¤ íŒŒì¼ ëª©ë¡ (ğŸš¨ ê°€ì¥ ì¤‘ìš”!) ===================
// ê¹ƒí—ˆë¸Œ í´ë”ì— ìˆëŠ” 97ê°œ íŒŒì¼ ì´ë¦„ì„ ëª¨ë‘ ì •í™•í•˜ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.
// ìŠ¤í¬ë¦°ìƒ·ì— ë³´ì´ëŠ” íŒŒì¼ ëª©ë¡ì„ ì˜ˆì‹œë¡œ ëª‡ ê°œ ë„£ì–´ë‘ì—ˆìŠµë‹ˆë‹¤.
const audioFiles = [
    "01_ì´ë¦„ì´_ë­ì˜ˆìš”.mp3",
    "02_ì–´ëŠë‚˜ë¼_ì‚¬ëŒì´ì—ìš”.mp3",
    "03_ì§ì—…ì´_ë­ì˜ˆìš”.mp3",
    "04_í•¸ë“œí°ì´_ìˆì–´ìš”.mp3",
    "05_ì „í™”ë²ˆí˜¸ê°€_ë­ì˜ˆìš”.mp3",
    "06_í•¸ë“œí°ì´_ìˆì–´ìš”.mp3", // íŒŒì¼ ì´ë¦„ì´ 04ë²ˆê³¼ ê°™ì•„ ë³´ì´ëŠ”ë°, í™•ì¸í•´ë³´ì„¸ìš”!
    "07_í•¸ë“œí°ë²ˆí˜¸ê°€_ë­ì˜ˆìš”.mp3",
    "08_í•¸ë“œí°ì´_ì–´ë””ì—_ìˆì–´ìš”.mp3",
    "09_ì¹ íŒì´_ì–´ë””ì—_ìˆì–´ìš”.mp3",
    "10_ì»´í“¨í„°ê°€_ì–´ë””ì—_ìˆì–´ìš”.mp3",
    "11_ë¬´ì—‡ì„_ì¢‹ì•„í•´ìš”.mp3",
    "12_ë¬´ìŠ¨_ìŒì‹ì„_ì¢‹ì•„í•´ìš”.mp3",
    "13_ì˜¤ëŠ˜ë‚´ì¼ì£¼ë§ì´ë²ˆì£¼ë§ì—_ë¬´ì—‡ì„_í•´ìš”.mp3",
    // ì—¬ê¸°ì— ë‚˜ë¨¸ì§€ íŒŒì¼ ì´ë¦„ë“¤ì„ ê³„ì† ì¶”ê°€í•´ì£¼ì„¸ìš”!
    // ...
    // ... ë§ˆì§€ë§‰ íŒŒì¼ê¹Œì§€ ...
];

// =================== 3. ì½”ë“œ ì‹¤í–‰ ë¶€ë¶„ (ì—¬ê¸°ëŠ” ìˆ˜ì • ì•ˆ í•´ë„ ë¼ìš”) ===================
let currentIndex = 0;
const audioPlayer = new Audio();

const prevButton = document.getElementById('prevBtn');
const replayButton = document.getElementById('replayBtn');
const nextButton = document.getElementById('nextBtn');
const scriptButton = document.getElementById('scriptBtn');
const scriptText = document.getElementById('scriptText');

// ì˜¤ë””ì˜¤ë¥¼ ì¬ìƒí•˜ëŠ” í•µì‹¬ í•¨ìˆ˜
function playAudio(index) {
    const fileName = audioFiles[index];
    // ğŸ‘‡ ì—¬ê¸°ê°€ ë°”ë€Œì—ˆì–´ìš”! í´ë” ê²½ë¡œ(folderPath)ê°€ ì£¼ì†Œì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.
    const audioUrl = `https://media.githubusercontent.com/media/${githubId}/${repoName}/main/${folderPath}/${fileName}`;
    
    audioPlayer.src = audioUrl;
    audioPlayer.play();

    scriptText.style.display = 'none';
    console.log(`ì¬ìƒ ì¤‘: ${fileName}`);
}

// 'ì´ì „' ë²„íŠ¼ í´ë¦­
prevButton.addEventListener('click', () => {
    currentIndex--;
    if (currentIndex < 0) {
        currentIndex = audioFiles.length - 1; 
    }
    playAudio(currentIndex);
});

// 'ë‹¤ìŒ' ë²„íŠ¼ í´ë¦­
nextButton.addEventListener('click', () => {
    currentIndex++;
    if (currentIndex >= audioFiles.length) {
        currentIndex = 0; 
    }
    playAudio(currentIndex);
});

// 'ë‹¤ì‹œ ë“£ê¸°' ë²„íŠ¼ í´ë¦­
replayButton.addEventListener('click', () => {
    audioPlayer.currentTime = 0;
    audioPlayer.play();
});

// 'ìŠ¤í¬ë¦½íŠ¸ ë³´ê¸°' ë²„íŠ¼ í´ë¦­
scriptButton.addEventListener('click', () => {
    let currentFile = audioFiles[currentIndex];
    let script = currentFile.replace('.mp3', '');
    script = script.replace(/^\d+_/, '');
    script = script.replace(/_/g, ' ');

    scriptText.innerText = script;
    scriptText.style.display = scriptText.style.display === 'block' ? 'none' : 'block';
});

// í˜ì´ì§€ê°€ ì²˜ìŒ ì—´ë¦´ ë•Œ ì²« ë²ˆì§¸ íŒŒì¼ì„ ì¬ìƒ
playAudio(currentIndex);
