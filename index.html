// =================== 1. 설정 (사용자 정보 입력) ===================
const githubId = "HAERANGMAN";      // 👈 본인 깃허브 아이디
const repoName = "AnyoungKorea"; // 👈 깃허브 저장소 이름
const folderPath = "mp3_1A_speaking"; // 👈 새로 추가된 오디오 폴더 이름!

// =================== 2. 오디오 파일 목록 (🚨 가장 중요!) ===================
// 깃허브 폴더에 있는 97개 파일 이름을 모두 정확하게 입력해주세요.
// 스크린샷에 보이는 파일 목록을 예시로 몇 개 넣어두었습니다.
const audioFiles = [
    "01_이름이_뭐예요.mp3",
    "02_어느나라_사람이에요.mp3",
    "03_직업이_뭐예요.mp3",
    "04_핸드폰이_있어요.mp3",
    "05_전화번호가_뭐예요.mp3",
    "06_핸드폰이_있어요.mp3", // 파일 이름이 04번과 같아 보이는데, 확인해보세요!
    "07_핸드폰번호가_뭐예요.mp3",
    "08_핸드폰이_어디에_있어요.mp3",
    "09_칠판이_어디에_있어요.mp3",
    "10_컴퓨터가_어디에_있어요.mp3",
    "11_무엇을_좋아해요.mp3",
    "12_무슨_음식을_좋아해요.mp3",
    "13_오늘내일주말이번주말에_무엇을_해요.mp3",
    // 여기에 나머지 파일 이름들을 계속 추가해주세요!
    // ...
    // ... 마지막 파일까지 ...
];

// =================== 3. 코드 실행 부분 (여기는 수정 안 해도 돼요) ===================
let currentIndex = 0;
const audioPlayer = new Audio();

const prevButton = document.getElementById('prevBtn');
const replayButton = document.getElementById('replayBtn');
const nextButton = document.getElementById('nextBtn');
const scriptButton = document.getElementById('scriptBtn');
const scriptText = document.getElementById('scriptText');

// 오디오를 재생하는 핵심 함수
function playAudio(index) {
    const fileName = audioFiles[index];
    // 👇 여기가 바뀌었어요! 폴더 경로(folderPath)가 주소에 추가되었습니다.
    const audioUrl = `https://media.githubusercontent.com/media/${githubId}/${repoName}/main/${folderPath}/${fileName}`;
    
    audioPlayer.src = audioUrl;
    audioPlayer.play();

    scriptText.style.display = 'none';
    console.log(`재생 중: ${fileName}`);
}

// '이전' 버튼 클릭
prevButton.addEventListener('click', () => {
    currentIndex--;
    if (currentIndex < 0) {
        currentIndex = audioFiles.length - 1; 
    }
    playAudio(currentIndex);
});

// '다음' 버튼 클릭
nextButton.addEventListener('click', () => {
    currentIndex++;
    if (currentIndex >= audioFiles.length) {
        currentIndex = 0; 
    }
    playAudio(currentIndex);
});

// '다시 듣기' 버튼 클릭
replayButton.addEventListener('click', () => {
    audioPlayer.currentTime = 0;
    audioPlayer.play();
});

// '스크립트 보기' 버튼 클릭
scriptButton.addEventListener('click', () => {
    let currentFile = audioFiles[currentIndex];
    let script = currentFile.replace('.mp3', '');
    script = script.replace(/^\d+_/, '');
    script = script.replace(/_/g, ' ');

    scriptText.innerText = script;
    scriptText.style.display = scriptText.style.display === 'block' ? 'none' : 'block';
});

// 페이지가 처음 열릴 때 첫 번째 파일을 재생
playAudio(currentIndex);
